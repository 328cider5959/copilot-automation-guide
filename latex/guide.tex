%!TEX encoding = UTF-8 Unicode
% -*- coding: utf-8 -*-
% Copilot å®Œå…¨è‡ªå‹•åŒ–ã‚¬ã‚¤ãƒ‰ æœ€çµ‚ç‰ˆ
% LaTeX Ultimate PDF Version

\documentclass[11pt,a4paper,dvipdfmx,uplatex]{jreport}

% ========================================
% ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸èª­ã¿è¾¼ã¿
% ========================================

% æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

% CJK ãƒ•ã‚©ãƒ³ãƒˆï¼ˆæ—¥æœ¬èªå¯¾å¿œï¼‰
\usepackage[dvipdfmx]{graphicx}
\usepackage{xcolor}
\usepackage{amsmath,amssymb}

% ãƒã‚¤ãƒ‘ãƒ¼ãƒªãƒ³ã‚¯
\usepackage[dvipdfmx,bookmarks=true,colorlinks=true,
            linkcolor=blue,urlcolor=blue,citecolor=blue]{hyperref}

% ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆlistingsç’°å¢ƒï¼‰
\usepackage{listings}
\usepackage{jlisting}  % æ—¥æœ¬èªå¯¾å¿œlistings

% ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
\usepackage{xltxtra}
\usepackage{xunicode}
\defaultfontfeatures{Mapping=tex-text}

% ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
\usepackage[margin=25mm,headheight=15pt]{geometry}
\usepackage{fancyhdr}
\usepackage{lastpage}

% ç›®æ¬¡ã®è‡ªå‹•ç”Ÿæˆ
\usepackage{titletoc}
\usepackage{tocloft}

% ãƒ†ãƒ¼ãƒ–ãƒ«
\usepackage{booktabs}
\usepackage{array}
\usepackage{tabularx}

% æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼‰
\renewcommand{\familydefault}{\sfdefault}

% ========================================
% Listings ç’°å¢ƒè¨­å®šï¼ˆã‚³ãƒ¼ãƒ‰è¡¨ç¤ºï¼‰
% ========================================
\lstset{
  language=Python,
  basicstyle=\ttfamily\small,
  keywordstyle=\bfseries\color{blue},
  commentstyle=\itshape\color{gray},
  stringstyle=\color{red},
  breaklines=true,
  breakatwhitespace=false,
  showstringspaces=false,
  numbers=left,
  numberstyle=\tiny\color{gray},
  firstnumber=1,
  frame=single,
  framerule=0pt,
  rulecolor=\color{lightgray},
  backgroundcolor=\color{white},
  xleftmargin=1cm,
  xrightmargin=0.5cm,
  captionpos=b,
  belowcaptionskip=0.5cm,
  lineskip=-1pt,
}

% YAML ç”¨ listings ã‚¹ã‚¿ã‚¤ãƒ«
\lstdefinelanguage{yaml}{
  morecomment=[l]{\#},
  morestring=[b]{"},
  morestring=[b]{'},
  basicstyle=\ttfamily\small,
  keywordstyle=\bfseries\color{blue},
}

% JSON ç”¨ listings ã‚¹ã‚¿ã‚¤ãƒ«
\lstdefinelanguage{json}{
  morestring=[b]{"},
  morecomment=[l]{//},
  basicstyle=\ttfamily\small,
}

% ========================================
% ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒ•ãƒƒã‚¿ãƒ¼è¨­å®š
% ========================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{Copilot å®Œå…¨è‡ªå‹•åŒ–ã‚¬ã‚¤ãƒ‰}
\fancyhead[R]{æœ€çµ‚ç‰ˆ}
\fancyfoot[C]{\thepage\ / \pageref{LastPage}}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% ========================================
% ãƒã‚¯ãƒ­å®šç¾©
% ========================================
\newcommand{\cmd}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{#1}}
\newcommand{\note}[1]{\textbf{æ³¨:} #1}
\newcommand{\warning}[1]{\textcolor{red}{\textbf{âš  è­¦å‘Š:}} #1}
\newcommand{\tip}[1]{\textcolor{green}{\textbf{ğŸ’¡ ãƒ’ãƒ³ãƒˆ:}} #1}

% ========================================
% ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé–‹å§‹
% ========================================
\title{\Huge\bfseries Copilot å®Œå…¨è‡ªå‹•åŒ–ã‚¬ã‚¤ãƒ‰ \\ \Large æœ€çµ‚ç‰ˆ}
\author{Copilot Automation Guide Contributors}
\date{\today}

\begin{document}

% ========================================
% ã‚¿ã‚¤ãƒˆãƒ«ãƒšãƒ¼ã‚¸
% ========================================
\maketitle

\begin{abstract}
ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€GitHub Copilotã€GitHub Actionsã€Dockerã€Power Automate ã‚’çµ„ã¿åˆã‚ã›ãŸ
\textbf{å®Œå…¨è‡ªå‹•åŒ–ã‚¬ã‚¤ãƒ‰}ã§ã™ã€‚æœ¬ç•ªç’°å¢ƒå¯¾å¿œã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å®Ÿè£…ã—ãŸ
CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã€LaTeX PDF è‡ªå‹•ç”Ÿæˆã€OCR å‡¦ç†ã®è‡ªå‹•åŒ–ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

\vspace{1em}

\textbf{å¯¾è±¡èª­è€…}: DevOps ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€è‡ªå‹•åŒ–æ‹…å½“è€…ã€Copilot ã‚’æ´»ç”¨ã—ãŸã„é–‹ç™ºè€…

\vspace{1em}

\textbf{ä¸»ãªå†…å®¹}:
\begin{itemize}
  \item ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆæ§‹æˆã¨ä½¿ç”¨æ–¹æ³•
  \item ZIP ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã‚ˆã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°
  \item GitHub Actions YAML ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
  \item Dockerfile ã«ã‚ˆã‚‹ OCR ç’°å¢ƒæ§‹ç¯‰
  \item Power Automate çµ±åˆ
  \item ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
  \item å®Ÿè£…æ‰‹é †æ›¸
  \item ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å›³ã¨ README å†…å®¹
\end{itemize}
\end{abstract}

% ========================================
% ç›®æ¬¡
% ========================================
\newpage
\tableofcontents
\newpage

% ========================================
% ã‚»ã‚¯ã‚·ãƒ§ãƒ³èª­ã¿è¾¼ã¿
% ========================================

\input{sections/01-overview}
\newpage

\input{sections/02-starter-kit}
\newpage

\input{sections/03-zip-script}
\newpage

\input{sections/04-github-actions}
\newpage

\input{sections/05-dockerfile}
\newpage

\input{sections/06-power-automate}
\newpage

\input{sections/07-security}
\newpage

\input{sections/08-manual}
\newpage

\input{sections/09-workflow}
\newpage

\input{sections/10-readme}

% ========================================
% ä»˜éŒ²ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
% ========================================
\appendix

\chapter{ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰}

\section{LaTeX ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒã§ããªã„}
LaTeX ã®æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆãŒä¸è¶³ã—ã¦ã„ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ TeX Live ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ï¼š
\begin{lstlisting}[language=bash,label=lst:texupdate]
tlmgr update --self
tlmgr install cjk xecjk
\end{lstlisting}

\section{Docker ãƒ“ãƒ«ãƒ‰ãŒé…ã„}
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’æ´»ç”¨ã—ã¦é«˜é€ŸåŒ–ã§ãã¾ã™ï¼š
\begin{lstlisting}[language=bash,label=lst:dockerbuild]
docker build --cache-from copilot-automation:latest \
  -t copilot-automation:latest .
\end{lstlisting}

\section{Power Automate ãƒˆãƒªã‚¬ãƒ¼ãŒå‹•ä½œã—ãªã„}
ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
\begin{enumerate}
  \item Webhook URL ãŒæœ‰åŠ¹ã‹ç¢ºèª
  \item GitHub Secrets ã§ \cmd{POWER\_AUTOMATE\_WEBHOOK} ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
  \item Power Automate ãƒ•ãƒ­ãƒ¼ãŒæœ‰åŠ¹ã‹ï¼ˆãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã§ç¢ºèªï¼‰
\end{enumerate}

% ========================================
% å‚è€ƒè³‡æ–™
% ========================================
\chapter{å‚è€ƒè³‡æ–™}

\begin{thebibliography}{99}

\bibitem{github-copilot}
GitHub Copilot Documentation.
\textit{https://github.com/features/copilot}

\bibitem{github-actions}
GitHub Actions Documentation.
\textit{https://docs.github.com/en/actions}

\bibitem{docker-docs}
Docker Documentation.
\textit{https://docs.docker.com}

\bibitem{power-automate}
Power Automate Documentation.
\textit{https://powerautomate.microsoft.com}

\bibitem{latex-cjk}
LaTeX CJK Package Documentation.
\textit{https://www.ctan.org/pkg/cjk}

\end{thebibliography}

% ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
\include{sections/overview}
\include{sections/starter-kit}
\include{sections/zip-script}
\include{sections/github-actions}
\include{sections/dockerfile}
\include{sections/power-automate}
\include{sections/security}
\include{sections/deployment-guide}
\include{sections/workflow-diagram}

\end{document}
